<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viking Game - Visual Novel</title>
    <link rel="stylesheet" type="text/css" href="./styles.css">
</head>
<body>
    <div id="black-overlay"></div>
    
    <!-- Character Button (visible across screens) -->
    <div id="character-button">
        <div class="character-icon">üë§</div>
    </div>
    
    <div id="start-screen" class="screen active">
        <div id="start-menu">
            <h1>Viking Game</h1>
            <button class="btn" id="start-game">
                <img src="assets/start_button.png" alt="Start Game">
            </button>
            <button class="btn" id="battle-simulator">
                <span class="simulator-button">Battle Simulator</span>
            </button>
        </div>
    </div>

    <div id="cinematic-ui" class="screen">
        <div id="cinematic-frame">
            <div id="cinematic-text-box">
                <div id="cinematic-text-content"></div>
            </div>
            <div id="cinematic-button-box">

            </div>
        </div>
    </div>
    
    <!-- Camp UI Screen -->
    <div id="camp-ui" class="screen">
        <div id="camp-container">
            <div id="camp-header">
                <h2>Camp</h2>
                <div id="time-remaining">
                    <span>Time Remaining: </span>
                    <span id="time-value">5</span>
                </div>
            </div>
            
            <div id="camp-activity-grid">
                <!-- Training -->
                <div class="camp-activity" data-activity="training">
                    <div class="activity-icon">T</div>
                    <div class="activity-name">Training</div>
                </div>
                
                <!-- Rest -->
                <div class="camp-activity" data-activity="rest">
                    <div class="activity-icon">R</div>
                    <div class="activity-name">Rest</div>
                </div>
                
                <!-- Companions -->
                <div class="camp-activity" data-activity="companions">
                    <div class="activity-icon">C</div>
                    <div class="activity-name">Companions</div>
                </div>
                
                <!-- Travel (replacing Events) -->
                <div class="camp-activity" data-activity="travel">
                    <div class="activity-icon">üó∫Ô∏è</div>
                    <div class="activity-name">Travel</div>
                </div>
                
                <!-- Scavenge -->
                <div class="camp-activity" data-activity="scavenge">
                    <div class="activity-icon">S</div>
                    <div class="activity-name">Scavenge</div>
                </div>
                
                <!-- Shop (Locked) -->
                <div class="camp-activity locked" data-activity="shop">
                    <div class="activity-icon">$</div>
                    <div class="activity-name">Shop</div>
                    <div class="locked-overlay">Locked</div>
                </div>
                
                <!-- Crafting -->
                <div class="camp-activity" data-activity="crafting">
                    <div class="activity-icon">Cr</div>
                    <div class="activity-name">Crafting</div>
                </div>
                
                <!-- Crew Management (Locked) -->
                <div class="camp-activity locked" data-activity="crew">
                    <div class="activity-icon">CM</div>
                    <div class="activity-name">Crew</div>
                    <div class="locked-overlay">Locked</div>
                </div>
                
                <!-- Medic -->
                <div class="camp-activity" data-activity="medic">
                    <div class="activity-icon">M</div>
                    <div class="activity-name">Medic</div>
                </div>
            </div>
            
            <div id="camp-result">
                <div id="camp-result-content"></div>
            </div>
            
            <button id="continue-journey" class="btn">Continue Journey</button>
        </div>
        
        <!-- Activity Detail Modals -->
        <div id="training-modal" class="activity-modal">
            <div class="modal-content">
                <h3>Training</h3>
                <div class="modal-description">
                    <p>Choose your training method:</p>
                </div>
                <div class="modal-options">
                    <button class="option-btn" data-option="solo">Solo Training</button>
                    <button class="option-btn" data-option="tier1">Train with Crew (Tier 1)</button>
                    <button class="option-btn" data-option="tier2">Train with Veterans (Tier 2)</button>
                    <button class="option-btn" data-option="tier3">Train with Hersir (Tier 3)</button>
                </div>
                <button class="modal-close">Cancel</button>
            </div>
        </div>
        
        <div id="rest-modal" class="activity-modal">
            <div class="modal-content">
                <h3>Rest & Recreation</h3>
                <div class="modal-description">
                    <p>Choose how to spend your downtime:</p>
                </div>
                <div class="modal-options">
                    <button class="option-btn" data-option="sleep">Sleep</button>
                    <button class="option-btn" data-option="drink">Drinking</button>
                    <button class="option-btn" data-option="pray">Prayer</button>
                    <button class="option-btn" data-option="gamble">Gambling</button>
                </div>
                <button class="modal-close">Cancel</button>
            </div>
        </div>
        
        <div id="companions-modal" class="activity-modal">
            <div class="modal-content">
                <h3>Companions</h3>
                <div class="modal-description">
                    <p>Speak with:</p>
                </div>
                <div class="modal-options">
                    <button class="option-btn" data-option="erik">Erik</button>
                    <button class="option-btn" data-option="olaf">Hersir Olaf</button>
                    <button class="option-btn" data-option="random">Other Warriors</button>
                </div>
                <button class="modal-close">Cancel</button>
            </div>
        </div>
    </div>
    
    <!-- Battle UI Screen -->
    <div id="battle-ui" class="screen">
        <div id="battle-container">
            <!-- Battle Scene -->
            <div id="battle-scene">
                <div id="player-character">
                    <!-- Player character sprite will go here -->
                    <div class="character-placeholder viking"></div>
                </div>
                <div id="enemy-character">
                    <!-- Enemy character sprite will go here -->
                    <div class="character-placeholder saxon"></div>
                </div>
            </div>
            
            <!-- Battle Text Area -->
            <div id="battle-text-box">
                <div id="battle-text-content">The Saxon warrior stands before you, weapon raised and ready to fight!</div>
            </div>
            
            <!-- Battle Status and Actions -->
            <div id="battle-status-container">
                <div id="player-status">
                    <div class="status-name">Viking Warrior</div>
                    <div class="status-bars">
                        <div class="status-bar-label">HP</div>
                        <div class="status-bar hp-bar">
                            <div class="bar-fill hp-fill" style="width: 100%;"></div>
                            <div class="bar-text">100 / 100</div>
                        </div>
                    </div>
                    <div class="status-bars">
                        <div class="status-bar-label">EN</div>
                        <div class="status-bar energy-bar">
                            <div class="bar-fill energy-fill" style="width: 100%;"></div>
                            <div class="bar-text">65 / 65</div>
                        </div>
                    </div>
                </div>
                
                <div id="battle-actions">
                    <div class="action-row">
                        <button class="battle-action" data-action="attack">Attack</button>
                        <button class="battle-action" data-action="feint">Feint</button>
                        <button class="battle-action" data-action="throw">Throw</button>
                    </div>
                    <div class="action-row">
                        <button class="battle-action" data-action="defend">Defend</button>
                        <button class="battle-action" data-action="recover">Recover</button>
                        <button class="battle-action" data-action="evade">Evade</button>
                    </div>
                </div>
                
                <div id="battle-weapon">
                    <div class="weapon-icon">‚öîÔ∏è</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Game Over Screen -->
    <div id="game-over-ui" class="screen">
        <div id="game-over-container">
            <h1 id="game-over-title">You Have Fallen</h1>
            <div id="death-cause"></div>
            
            <div id="game-over-stats">
                <h2>Your Saga Ends Here</h2>
                <div id="game-over-achievements">
                    <h3>Accomplishments</h3>
                    <ul id="achievements-list"></ul>
                </div>
                <div id="final-stats">
                    <h3>Final Stats</h3>
                    <div id="final-stats-grid">
                        <div class="final-stat">
                            <div class="final-stat-label">Strength:</div>
                            <div class="final-stat-value" id="final-str">0</div>
                        </div>
                        <div class="final-stat">
                            <div class="final-stat-label">Agility:</div>
                            <div class="final-stat-value" id="final-agi">0</div>
                        </div>
                        <div class="final-stat">
                            <div class="final-stat-label">Endurance:</div>
                            <div class="final-stat-value" id="final-end">0</div>
                        </div>
                        <div class="final-stat">
                            <div class="final-stat-label">Coordination:</div>
                            <div class="final-stat-value" id="final-crd">0</div>
                        </div>
                        <div class="final-stat">
                            <div class="final-stat-label">Vitality:</div>
                            <div class="final-stat-value" id="final-vit">0</div>
                        </div>
                        <div class="final-stat">
                            <div class="final-stat-label">Weapon Skill:</div>
                            <div class="final-stat-value" id="final-wpn">0</div>
                        </div>
                        <div class="final-stat">
                            <div class="final-stat-label">Reputation:</div>
                            <div class="final-stat-value" id="final-rep">0</div>
                        </div>
                        <div class="final-stat">
                            <div class="final-stat-label">Alignment:</div>
                            <div class="final-stat-value" id="final-alignment">Neutral</div>
                        </div>
                    </div>
                </div>
                <div id="death-time"></div>
            </div>
            
            <div id="game-over-buttons">
                <button id="new-game" class="btn">Begin A New Saga</button>
            </div>
        </div>
    </div>

    <!-- Battle Simulator Screen -->
    <div id="simulator-screen" class="screen">
        <div id="simulator-container">
            <div id="simulator-header">
                <h2>Battle Simulator</h2>
                <button id="close-simulator" class="close-button">√ó</button>
            </div>
            
            <div id="simulator-template-container">
                <div class="template-heading">Character Template:</div>
                <div class="template-buttons">
                    <button class="template-btn" data-template="DEFAULT">Default</button>
                    <button class="template-btn" data-template="WARRIOR">Warrior</button>
                    <button class="template-btn" data-template="EXPLORER">Explorer</button>
                    <button class="template-btn" data-template="SHIELDMAIDEN">Shieldmaiden</button>
                </div>
            </div>
            
            <div id="simulator-content">
                <div class="simulator-section">
                    <h3>Character Stats</h3>
                    
                    <div class="stat-slider-container">
                        <div class="stat-slider-label">
                            <span>Strength:</span>
                            <span id="strength-value">5</span>
                        </div>
                        <input type="range" min="1" max="20" value="5" class="stat-slider" id="strength-slider">
                    </div>
                    
                    <div class="stat-slider-container">
                        <div class="stat-slider-label">
                            <span>Agility:</span>
                            <span id="agility-value">5</span>
                        </div>
                        <input type="range" min="1" max="20" value="5" class="stat-slider" id="agility-slider">
                    </div>
                    
                    <div class="stat-slider-container">
                        <div class="stat-slider-label">
                            <span>Endurance:</span>
                            <span id="endurance-value">5</span>
                        </div>
                        <input type="range" min="1" max="20" value="5" class="stat-slider" id="endurance-slider">
                    </div>
                    
                    <div class="stat-slider-container">
                        <div class="stat-slider-label">
                            <span>Coordination:</span>
                            <span id="coordination-value">5</span>
                        </div>
                        <input type="range" min="1" max="20" value="5" class="stat-slider" id="coordination-slider">
                    </div>
                    
                    <div class="stat-slider-container">
                        <div class="stat-slider-label">
                            <span>Vitality:</span>
                            <span id="vitality-value">5</span>
                        </div>
                        <input type="range" min="1" max="20" value="5" class="stat-slider" id="vitality-slider">
                    </div>
                    
                    <div class="stat-slider-container">
                        <div class="stat-slider-label">
                            <span>Weapon Skill:</span>
                            <span id="weaponSkill-value">5</span>
                        </div>
                        <input type="range" min="1" max="20" value="5" class="stat-slider" id="weaponSkill-slider">
                    </div>
                </div>
                
                <!-- Weapon Mastery Section -->
                <div class="simulator-section">
                    <h3>Weapon Mastery Levels</h3>
                    
                    <!-- Sword mastery slider -->
                    <div class="stat-slider-container">
                        <div class="stat-slider-label">
                            <span>Sword Mastery:</span>
                            <span id="sword-mastery-value">1</span>
                        </div>
                        <input type="range" id="sword-mastery-slider" class="stat-slider" min="1" max="10" value="1">
                    </div>
                    
                    <!-- Mace mastery slider -->
                    <div class="stat-slider-container">
                        <div class="stat-slider-label">
                            <span>Mace Mastery:</span>
                            <span id="mace-mastery-value">1</span>
                        </div>
                        <input type="range" id="mace-mastery-slider" class="stat-slider" min="1" max="10" value="1">
                    </div>
                    
                    <!-- Axe mastery slider -->
                    <div class="stat-slider-container">
                        <div class="stat-slider-label">
                            <span>Axe Mastery:</span>
                            <span id="axe-mastery-value">1</span>
                        </div>
                        <input type="range" id="axe-mastery-slider" class="stat-slider" min="1" max="10" value="1">
                    </div>
                    
                    <!-- Polearm mastery slider -->
                    <div class="stat-slider-container">
                        <div class="stat-slider-label">
                            <span>Polearm Mastery:</span>
                            <span id="polearm-mastery-value">1</span>
                        </div>
                        <input type="range" id="polearm-mastery-slider" class="stat-slider" min="1" max="10" value="1">
                    </div>
                </div>
                
                <!-- Damage Multipliers Section -->
                <div class="simulator-section">
                    <h3>Damage Multipliers</h3>
                    <button id="reset-multipliers-btn" class="simulator-button">Reset to Defaults</button>
                    
                    <!-- Dynamic damage multiplier sliders will be inserted here -->
                    <div id="damage-multiplier-sliders"></div>
                </div>
                
                <div class="simulator-section">
                    <h3>Health & Energy</h3>
                    
                    <div class="stat-slider-container">
                        <div class="stat-slider-label">
                            <span>Health:</span>
                            <span id="health-value">100</span>
                        </div>
                        <input type="range" min="10" max="300" value="100" class="stat-slider" id="health-slider">
                    </div>
                    
                    <div class="stat-slider-container">
                        <div class="stat-slider-label">
                            <span>Max Health:</span>
                            <span id="maxHealth-value">100</span>
                        </div>
                        <input type="range" min="10" max="300" value="100" class="stat-slider" id="maxHealth-slider">
                    </div>
                    
                    <div class="stat-slider-container">
                        <div class="stat-slider-label">
                            <span>Energy:</span>
                            <span id="energy-value">65</span>
                        </div>
                        <input type="range" min="10" max="200" value="65" class="stat-slider" id="energy-slider">
                    </div>
                    
                    <div class="stat-slider-container">
                        <div class="stat-slider-label">
                            <span>Max Energy:</span>
                            <span id="maxEnergy-value">65</span>
                        </div>
                        <input type="range" min="10" max="200" value="65" class="stat-slider" id="maxEnergy-slider">
                    </div>
                    
                    <div class="battle-type-selection">
                        <div class="battle-type-option selected" data-battle-type="first">
                            <h4>Saxon Scout</h4>
                            <p>A quick scout with high agility</p>
                        </div>
                        <div class="battle-type-option" data-battle-type="second">
                            <h4>Saxon Defender</h4>
                            <p>A strong defender with high endurance</p>
                        </div>
                    </div>
                </div>
                
                <div id="simulator-actions">
                    <button id="start-battle-btn">Start Battle</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Character Management Screen -->
    <div id="character-screen" class="screen">
        <div id="character-container">
            <div id="character-header">
                <h2>Character</h2>
                <button id="close-character" class="close-button">√ó</button>
            </div>
            
            <div id="character-content">
                <div id="character-avatar">
                    <div class="avatar-placeholder viking"></div>
                    <div class="character-name">Ragnar</div>
                </div>
                
                <div id="character-stats">
                    <h3>Stats</h3>
                    <div class="stat-container">
                        <div class="stat-name">Strength</div>
                        <div class="stat-bar">
                            <div class="stat-fill strength-fill"></div>
                            <span class="stat-value">0</span>
                        </div>
                    </div>
                    <div class="stat-container">
                        <div class="stat-name">Agility</div>
                        <div class="stat-bar">
                            <div class="stat-fill agility-fill"></div>
                            <span class="stat-value">0</span>
                        </div>
                    </div>
                    <div class="stat-container">
                        <div class="stat-name">Endurance</div>
                        <div class="stat-bar">
                            <div class="stat-fill endurance-fill"></div>
                            <span class="stat-value">0</span>
                        </div>
                    </div>
                    <div class="stat-container">
                        <div class="stat-name">Coordination</div>
                        <div class="stat-bar">
                            <div class="stat-fill coordination-fill"></div>
                            <span class="stat-value">0</span>
                        </div>
                    </div>
                    <div class="stat-container">
                        <div class="stat-name">Vitality</div>
                        <div class="stat-bar">
                            <div class="stat-fill vitality-fill"></div>
                            <span class="stat-value">0</span>
                        </div>
                    </div>
                    <div class="stat-container">
                        <div class="stat-name">Weapon Skill</div>
                        <div class="stat-bar">
                            <div class="stat-fill weaponSkill-fill"></div>
                            <span class="stat-value">0</span>
                        </div>
                    </div>
                </div>
                
                <div id="character-health">
                    <h3>Health & Energy</h3>
                    <div class="resource-container">
                        <div class="resource-name">Health</div>
                        <div class="resource-bar">
                            <div class="resource-fill health-fill"></div>
                            <span class="resource-value">0/0</span>
                        </div>
                    </div>
                    <div class="resource-container">
                        <div class="resource-name">Energy</div>
                        <div class="resource-bar">
                            <div class="resource-fill energy-fill"></div>
                            <span class="resource-value">0/0</span>
                        </div>
                    </div>
                    <div class="resource-container">
                        <div class="resource-name">Fatigue</div>
                        <div class="resource-bar">
                            <div class="resource-fill fatigue-fill"></div>
                            <span class="resource-value">0/0</span>
                        </div>
                    </div>
                </div>
                
                <div id="character-reputation">
                    <h3>Reputation</h3>
                    <div class="reputation-container">
                        <div class="raven-container">
                            <div class="raven white-raven">
                                <div class="raven-level">0</div>
                            </div>
                            <div class="raven-label">White Raven</div>
                        </div>
                        <div class="reputation-bar">
                            <div class="reputation-fill"></div>
                        </div>
                        <div class="raven-container">
                            <div class="raven black-raven">
                                <div class="raven-level">0</div>
                            </div>
                            <div class="raven-label">Black Raven</div>
                        </div>
                    </div>
                </div>
                
                <!-- Skill Tree Section -->
                <div id="character-skill-tree">
                    <div class="skill-tree-header">
                        <h3>Skill Tree</h3>
                        <div class="skill-points-container">
                            <span>Available Points:</span>
                            <span id="available-skill-points">0</span>
                        </div>
                    </div>
                    
                    <div class="skill-tree-tabs">
                        <div class="skill-tree-tab active" data-branch="accuracyBranch">Accuracy</div>
                        <div class="skill-tree-tab" data-branch="damageBranch">Damage</div>
                    </div>
                    
                    <div class="skill-tree-branches">
                        <div class="skill-tree-branch active" id="accuracyBranch">
                            <!-- Accuracy branch skills will be dynamically added here -->
                        </div>
                        <div class="skill-tree-branch" id="damageBranch">
                            <!-- Damage branch skills will be dynamically added here -->
                        </div>
                    </div>
                    
                    <div class="skill-info-panel">
                        <h4 id="selected-skill-name">Select a skill</h4>
                        <p id="selected-skill-description">Click on a skill to view its details.</p>
                        <div class="skill-rank-container">
                            <span>Rank:</span>
                            <span id="selected-skill-rank">0/0</span>
                        </div>
                        <div class="skill-requirements-container">
                            <div id="selected-skill-requirements"></div>
                        </div>
                        <button id="apply-skill-point" class="skill-tree-button">Apply Skill Point</button>
                    </div>
                </div>
                
                <div id="character-inventory">
                    <h3>Inventory</h3>
                    <div id="inventory-items">
                        <!-- Inventory items will be dynamically added here -->
                        <div class="empty-inventory">Your inventory is empty.</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Add this attribute to your script tag to enable ES modules -->
    <script type="module" src="game.js"></script>
</body>
</html>